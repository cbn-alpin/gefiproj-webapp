<ng-container *ngIf="displayProjet()">
  <div class="project-details">
    <span class="bold project-name">{{ projet.nom_p }}</span>

    <div class="project-edit">
      <!-- Edit -->
      <button
        *ngIf="isAdministrator"
        mat-icon-button
        (click)="openEditProjectDialog()"
        [matTooltip]="'Modifier'"
      >
        <mat-icon>edit</mat-icon>
      </button>
    </div>
    <br /><br />
    <span class="project-code-content">
      <span class="bold"> code : </span>{{ projet.code_p }}
    </span>
    <span class="project-responsable-content">
      <span class="bold"> responsable : </span>{{ manager.initiales_u }}
    </span>
    <span class="project-status">
      <mat-checkbox [checked]="projet.statut_p" [disabled]="true">
        Sold√©
      </mat-checkbox>
    </span>
  </div>
  <hr class="project-line" />

  <div class="financements">
    <app-financements
      *ngIf="financements"
      [financements]="financements"
      [selectedFinancement]="selectedFinancement"
      [defaultSortInfo]="financementsDefaultSortInfo"
      [isAdministrator]="isAdministrator"
      [isResponsable]="isResponsable"
      [projectIsBalance]="isBalance"
      (selectEvent)="onSelectFinancement($event)"
      (createEvent)="onCreateFinancement()"
      (editEvent)="onEditFinancement()"
      (deleteEvent)="onDeleteFinancement()"
      (financementsChange)="onFinancementsChange($event)"
      (selectedFinancementChange)="onSelectedFinancementChange($event)"
    ></app-financements>
  </div>

  <div
    class="block"
    fxLayout="row"
    fxLayoutAlign="space-between start"
    fxLayoutGap="30px"
  >
    <div class="recettes">
      <app-recettes
        *ngIf="recettes"
        [recettes]="recettes"
        [financement]="selectedFinancement"
        [defaultSortInfo]="recettesDefaultSortInfo"
        [selectedRecette]="selectedRecette"
        [isAdministrator]="isAdministrator"
        [projectIsBalance]="isBalance"
        (selectEvent)="onSelectRecette($event)"
        (createEvent)="onCreateRecette($event)"
        (editEvent)="onEditRecette()"
        (deleteEvent)="onDeleteRecette()"
        (recettesChange)="onRecettesChange($event)"
        (selectedRecetteChangeEvent)="onSelectedRecetteChange($event)"
      ></app-recettes>
    </div>

    <div class="montants-affectes">
      <app-montants-affectes
        *ngIf="montantsAffectes"
        [montantsAffectes]="montantsAffectes"
        [receipt]="selectedRecette"
        [isAdministrator]="isAdministrator"
        [projectIsBalance]="isBalance"
        (montantsAffectesChange)="onMontantsAffectesChange($event)"
      ></app-montants-affectes>
    </div>
  </div>
</ng-container>
